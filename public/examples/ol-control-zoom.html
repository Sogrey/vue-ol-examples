<!--
CodeSandbox 分享文件
生成时间: 2025/11/23 12:25:21
页面标题: OpenLayers 导航控件
原始页面链接: https://sogrey.top/CodeSandbox/
-->

<!-- CodeSandbox Template File -->
<!-- 该文件包含完整的模板数据和设置信息，可以被重新导入 -->
<engine-type>openlayers</engine-type>
<title>OpenLayers 导航控件</title>
<meta name="description" content="导航控件主要用于控制地图的平移、缩放。" />
<template>
  <div id="map"></div>
  <div class="ToolLib">
    <input type="button" class="control-btn" id="zoom-out" value="单击缩小" />
    <input type="button" class="control-btn" id="zoom-in" value="单击放大" />
    <input type="button" class="control-btn" id="panto" value="平移到" />
    <input type="button" class="control-btn" id="restore" value="复位" />
  </div>
</template>
<script>
console.log(ol)
const map = new ol.Map({
  target: 'map',
  loadTilesWhileInteracting: true,
  view: new ol.View({
    center: [11421771, 4288300],
    zoom: 5,
    worldsWrap: true,
    minZoom: 1,
    maxZoom: 20,
    projection: 'EPSG:3857',
  }),
  // 鼠标控件：鼠标在地图上移动时显示坐标信息。
  controls: ol.control.defaults.defaults().extend([
    // 加载鼠标控件
    // new ol.control.MousePosition(),
  ]),
})

const gaodeLayer = new ol.layer.Tile({
  source: new ol.source.XYZ({
    title: '高德',
    url: 'http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}',
  }),
})
map.addLayer(gaodeLayer)

// 地图视图初始参数
const view = map.getView()
const zoom = view.getZoom()
const center = view.getCenter()
const rotation = view.getRotation()
// 缩小按钮
document.getElementById("zoom-out").onclick = function() {
  const view = map.getView() // 获取地图视图
  const zoom = view.getZoom()
  view.setZoom(zoom - 1)
}

//放大按钮
document.getElementById("zoom-in").onclick = function() {
  const view = map.getView()
  const zoom = view.getZoom()
  view.setZoom(zoom + 1)
}
// 平移功能
document.getElementById("panto").onclick = function() {
  const view = map.getView()
  const wh = ol.proj.fromLonLat([105, 35])
  view.setCenter(wh)
  view.setZoom(5)
}
// 复位功能
document.getElementById("restore").onclick = function() {
  const view = map.getView()
  view.setCenter(center)
  view.setRotation = rotation
  view.setZoom = zoom
}
</script>
<style>
* {
  padding: 0;
  margin: 0;
  font-size: 14px;
  font-family: '微软雅黑';
}

#map {
  position: absolute;
  width: 100%;
  height: 100%;
}

.ol-zoom {
  position: absolute;
  right: 16px;
  bottom: 16px;
  top: auto;
  left: auto;
}

.ToolLib {
  position: absolute;
  top: 24px;
  right: 16px;
}
</style>

<!-- Settings Section - 设置数据，将被自动解析 -->
<settings>
<head-metadata>

</head-metadata>
<css-links>

</css-links>
<js-links>

</js-links>
</settings>
